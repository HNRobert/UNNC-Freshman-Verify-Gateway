# å¾®ä¿¡ç¾¤äºŒç»´ç éªŒè¯ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªåŸºäº Next.js å’Œ Tailwind CSS çš„å¾®ä¿¡ç¾¤äºŒç»´ç éªŒè¯ç³»ç»Ÿï¼Œç”¨äº UNNC è®¡ç®—æœºçˆ±å¥½è€…åä¼šï¼ˆCPUï¼‰æ‹›æ–°ç¾¤çš„èº«ä»½éªŒè¯ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” èº«ä»½éªŒè¯ï¼šé€šè¿‡èº«ä»½è¯å·å’Œå§“åéªŒè¯å½•å–çŠ¶æ€
- ğŸ“± å“åº”å¼è®¾è®¡ï¼šæ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- ğŸ¨ ç°ä»£åŒ– UIï¼šä½¿ç”¨ Tailwind CSS æ„å»ºçš„ç¾è§‚ç•Œé¢
- âš¡ å¿«é€ŸåŠ è½½ï¼šåŸºäº Next.js çš„ä¼˜åŒ–æ€§èƒ½
- ğŸ”’ å®‰å…¨æ€§ï¼šå‰ç«¯éªŒè¯ï¼Œä¸å­˜å‚¨ä¸ªäººä¿¡æ¯
- ğŸ³ Docker æ”¯æŒï¼šå®¹å™¨åŒ–éƒ¨ç½²
- ğŸš€ CI/CDï¼šè‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 15.4.3
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS 4.x
- **å›¾æ ‡**: Heroicons
- **HTTP å®¢æˆ·ç«¯**: Axios
- **åŒ…ç®¡ç†å™¨**: pnpm
- **å®¹å™¨åŒ–**: Docker & Docker Compose
- **CI/CD**: GitHub Actions

## å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨ Dockerï¼ˆæ¨èï¼‰

#### ç”Ÿäº§ç¯å¢ƒ

```bash
# æ„å»ºå¹¶å¯åŠ¨
./scripts/deploy.sh

# æˆ–è€…æ‰‹åŠ¨è¿è¡Œ
docker-compose up -d
```

#### å¼€å‘ç¯å¢ƒ

```bash
# å¼€å‘ç¯å¢ƒ
./scripts/dev.sh

# æˆ–è€…æ‰‹åŠ¨è¿è¡Œ
docker-compose -f docker-compose.dev.yml up -d
```

### æœ¬åœ°å¼€å‘

#### å‰ç½®è¦æ±‚

- Node.js 18+
- pnpm

#### å®‰è£…ä¾èµ–

```bash
pnpm install
```

#### å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

#### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

#### è¿è¡Œç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm start
```

## Docker å‘½ä»¤

### Docker é•œåƒç®¡ç†

```bash
# æ„å»ºé•œåƒ
pnpm docker:build

# è¿è¡Œå®¹å™¨
pnpm docker:run

# ä½¿ç”¨ docker-compose
pnpm compose:up     # å¯åŠ¨æœåŠ¡
pnpm compose:down   # åœæ­¢æœåŠ¡
pnpm compose:logs   # æŸ¥çœ‹æ—¥å¿—
```

### ç¯å¢ƒç®¡ç†

```bash
# å¼€å‘ç¯å¢ƒ
pnpm docker:dev     # å¯åŠ¨å¼€å‘ç¯å¢ƒ

# ç”Ÿäº§ç¯å¢ƒ
pnpm docker:deploy  # éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒ
```

### æ‰‹åŠ¨ Docker æ“ä½œ

```bash
# æ„å»ºç”Ÿäº§é•œåƒ
docker build -t unnc-freshman-verify-gateway .

# è¿è¡Œç”Ÿäº§å®¹å™¨
docker run -p 3000:3000 unnc-freshman-verify-gateway

# ä½¿ç”¨ docker-compose å¯åŠ¨å®Œæ•´æœåŠ¡æ ˆ
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

## CI/CD éƒ¨ç½²

é¡¹ç›®é…ç½®äº† GitHub Actions è‡ªåŠ¨åŒ–æµæ°´çº¿ï¼Œæ”¯æŒï¼š

### è‡ªåŠ¨åŒ–æµç¨‹

1. **ä»£ç è´¨é‡æ£€æŸ¥**: ESLint æ£€æŸ¥å’Œæ„å»ºæµ‹è¯•
2. **Docker é•œåƒæ„å»º**: è‡ªåŠ¨æ„å»ºå¹¶æ¨é€åˆ° GitHub Container Registry
3. **å®‰å…¨æ‰«æ**: ä½¿ç”¨ Trivy è¿›è¡Œå®¹å™¨å®‰å…¨æ‰«æ
4. **è‡ªåŠ¨éƒ¨ç½²**:
   - `develop` åˆ†æ”¯ â†’ Staging ç¯å¢ƒ
   - `main` åˆ†æ”¯ â†’ Production ç¯å¢ƒ

### é•œåƒä»“åº“

é•œåƒè‡ªåŠ¨å‘å¸ƒåˆ° GitHub Container Registry:

- é•œåƒåç§°: `ghcr.io/hnrobert/unnc-freshman-verify-gateway`
- æ ‡ç­¾ç­–ç•¥:
  - `latest`: main åˆ†æ”¯æœ€æ–°ç‰ˆæœ¬
  - `develop`: develop åˆ†æ”¯æœ€æ–°ç‰ˆæœ¬
  - `v1.0.0`: ç‰ˆæœ¬æ ‡ç­¾ï¼ˆåŸºäº git tagï¼‰

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨ GitHub Repository Settings â†’ Secrets ä¸­é…ç½®ï¼š

- `GITHUB_TOKEN`: è‡ªåŠ¨ç”Ÿæˆï¼Œç”¨äºæ¨é€é•œåƒ

### éƒ¨ç½²åˆ°æœåŠ¡å™¨

åœ¨ CI/CD é…ç½®ä¸­çš„éƒ¨ç½²æ­¥éª¤ï¼Œä½ éœ€è¦é…ç½®ï¼š

1. æœåŠ¡å™¨ SSH å¯†é’¥
2. æœåŠ¡å™¨åœ°å€å’Œç”¨æˆ·ä¿¡æ¯
3. éƒ¨ç½²è„šæœ¬

ä¾‹å¦‚ï¼š

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–æœ€æ–°é•œåƒå¹¶é‡å¯æœåŠ¡
ssh user@your-server "docker pull ghcr.io/hnrobert/unnc-freshman-verify-gateway:latest && docker-compose up -d"
```

## é¡¹ç›®ç»“æ„

```txt
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx           # éªŒè¯é¡µé¢
â”‚   â”œâ”€â”€ show/
â”‚   â”‚   â””â”€â”€ page.tsx       # äºŒç»´ç å±•ç¤ºé¡µé¢
â”‚   â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
â””â”€â”€ public/
    â””â”€â”€ qrcode.jpg         # å¾®ä¿¡ç¾¤äºŒç»´ç å›¾ç‰‡
```

## ä½¿ç”¨è¯´æ˜

1. ç”¨æˆ·è®¿é—®ä¸»é¡µï¼Œè¾“å…¥èº«ä»½è¯å·å’Œå§“å
2. ç³»ç»Ÿå‘ entry.nottingham.edu.cn æŸ¥è¯¢å½•å–çŠ¶æ€
3. éªŒè¯é€šè¿‡åè·³è½¬åˆ°äºŒç»´ç å±•ç¤ºé¡µé¢
4. ç”¨æˆ·å¯ä»¥æ‰«æäºŒç»´ç åŠ å…¥å¾®ä¿¡ç¾¤

## é…ç½®

### åŸºæœ¬é…ç½®

åœ¨ `src/app/page.tsx` ä¸­å¯ä»¥ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

- `codeName`: ç¾¤åç§°
- `unableToVerifyMessage`: æ— æ³•éªŒè¯æ—¶çš„æç¤ºä¿¡æ¯

### å¤šè¯­è¨€é…ç½®

æœ¬é¡¹ç›®ä½¿ç”¨ YAML æ ¼å¼çš„å¤šè¯­è¨€æ–‡ä»¶ï¼Œä½äº `src/locales/` ç›®å½•ï¼š

- `zh-CN.yml`: ä¸­æ–‡è¯­è¨€åŒ…
- `en-US.yml`: è‹±è¯­ï¼ˆç¾å›½ï¼‰è¯­è¨€åŒ…
- `en-UK.yml`: è‹±è¯­ï¼ˆè‹±å›½ï¼‰è¯­è¨€åŒ…

æ¯ä¸ª YAML æ–‡ä»¶åŒ…å«ä»¥ä¸‹ä¸»è¦éƒ¨åˆ†ï¼š

- `metadata`: é¡µé¢å…ƒæ•°æ®ï¼ˆæ ‡é¢˜ã€æè¿°ï¼‰
- `common`: é€šç”¨æ–‡æœ¬ï¼ˆæŒ‰é’®ã€çŠ¶æ€ç­‰ï¼‰
- `verify`: éªŒè¯é¡µé¢ç›¸å…³æ–‡æœ¬
- `qrcode`: äºŒç»´ç é¡µé¢ç›¸å…³æ–‡æœ¬
- `validation`: è¡¨å•éªŒè¯ç›¸å…³æ–‡æœ¬

ä¿®æ”¹è¿™äº›æ–‡ä»¶å¯ä»¥è‡ªå®šä¹‰ç•Œé¢æ–‡æœ¬å†…å®¹ã€‚

### åŠ¨æ€å…ƒæ•°æ®

é¡¹ç›®æ”¯æŒæ ¹æ®ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€åŠ¨æ€æ›´æ–°é¡µé¢å…ƒæ•°æ®ï¼š

- **é¡µé¢æ ‡é¢˜**: ä¼šæ ¹æ®å½“å‰é€‰æ‹©çš„è¯­è¨€è‡ªåŠ¨æ›´æ–°
- **é¡µé¢æè¿°**: description meta æ ‡ç­¾ä¼šç›¸åº”æ›´æ”¹
- **SEO æ ‡ç­¾**: è‡ªåŠ¨æ›´æ–° Open Graph å’Œ Twitter Card æ ‡ç­¾
- **è¯­è¨€å±æ€§**: HTML lang å±æ€§ä¼šéšè¯­è¨€åˆ‡æ¢è€Œæ›´æ–°

è¿™ç¡®ä¿äº†æœç´¢å¼•æ“å’Œç¤¾äº¤åª’ä½“åˆ†äº«æ—¶æ˜¾ç¤ºæ­£ç¡®çš„å¤šè¯­è¨€ä¿¡æ¯ã€‚

## éƒ¨ç½²

æœ¬é¡¹ç›®å¯ä»¥éƒ¨ç½²åˆ°ä»»ä½•æ”¯æŒ Next.js çš„å¹³å°ï¼Œå¦‚ Vercelã€Netlify ç­‰ã€‚

```bash
# æ„å»º
pnpm build

# å¯åŠ¨
pnpm start
```

## è®¸å¯è¯

Â©2025 Computer Psycho Union, UNNC å®è¯ºè®¡ç®—æœºçˆ±å¥½è€…åä¼š All rights reserved.

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»ï¼š<hnrobert@qq.com>
